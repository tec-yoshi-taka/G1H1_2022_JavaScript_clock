<!DOCTYPE html>
<html lang="ja">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>アナログ時計</title>
    <link rel="stylesheet" href="css/reset.min.css">
    <link rel="stylesheet" href="css/style.css">
</head>

<body>
    <div id="clock">
        <div id="hour"><img src="images/hourHand.png"></div>
        <div id="minute"><img src="images/minuteHand.png"></div>
        <div id="second"><img src="images/secondHand.png"></div>
    </div>
    <div id="digital">
        <p id="time">00:00:00</p>
    </div>
    <script>
    "use strict";
    const time = document.querySelector('#time');
    const hourHand = document.querySelector('#hour');
    const minuteHand = document.querySelector('#minute');
    const secondHand = document.querySelector('#second');
    
    const addZero = (num) => {
        num = num < 10 ? `0${num}` : num;
        return num;
    }
    const clock = () => {
        const now = new Date();
        let hour = now.getHours() % 12;//時
        let min = now.getMinutes();//分
        let sec = now.getSeconds();//秒
        let millsec = now.getMilliseconds();//ミリ秒

        hourHand.style.transform = `rotate(${(hour + min/60)*30}deg)`;
        minuteHand.style.transform = `rotate(${(min + sec/60)*6}deg)`;
        secondHand.style.transform = `rotate(${(sec+millsec/1000)*6}deg)`;

        time.innerHTML = `${addZero(hour)}:${addZero(min)}:${addZero(sec)}`;
        requestAnimationFrame(clock);
    }
    clock();
    </script>
</body>

</html>